(()=>{"use strict";var e=function(e){var t=e.contextList,n=e.text,r=e.styleId,o=e.styleClass,a=document.createElement("li");a.className=o,a.id=r,a.textContent=n,t.appendChild(a)},t=function(e){var t=e.eventTarget,n=e.arr,r=t.dataset.id;return n.find((function(e){return e.id===Number(r)}))},n=function(e){return new Promise((function(t){var n=e.eventTarget,r=n.textContent,o=document.createElement("input");o.type="text",o.value=r||"",n.textContent="",n.appendChild(o),o.focus(),o.addEventListener("keypress",(function(e){"Enter"===e.key&&o.blur()})),o.addEventListener("blur",(function(){var e=o.value.trim();r!==e&&(n.textContent=e),t(e)}))}))};function r(){return e=this,t=void 0,r=function(){var e;return function(e,t){var n,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},c=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return c.next=i(0),c.throw=i(1),c.return=i(2),"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function i(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,i[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}(this,(function(t){switch(t.label){case 0:return[4,fetch("https://gist.githubusercontent.com/lilla-nemeth/888f537b4a9f52ddd97a369948b74c0a/raw/073736e988c1204c6f5d1b437f30f5d011379090/images.json")];case 1:if(!(e=t.sent()).ok)throw new Error("Fetching images has failed");return[4,e.json()];case 2:return[2,t.sent()]}}))},new((n=void 0)||(n=Promise))((function(o,a){function c(e){try{l(r.next(e))}catch(e){a(e)}}function i(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}l((r=r.apply(e,t||[])).next())}));var e,t,n,r}var o,a,c,i,l=document.getElementById("content-container");o=void 0,a=void 0,i=function(){var e;return function(e,t){var n,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},c=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return c.next=i(0),c.throw=i(1),c.return=i(2),"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function i(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,i[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,r()];case 1:return n={images:t.sent(),container:l},o=n.container,a=n.images.map((function(e){var t=document.createElement("img");return t.src=e.url,t.loading="lazy",t.className="images",t})),(c=document.createElement("div")).className="image-container",a.forEach((function(e){return c.appendChild(e)})),o.appendChild(c),[3,3];case 2:throw e=t.sent(),console.log(e),new Error;case 3:return[2]}var n,o,a,c}))},new((c=void 0)||(c=Promise))((function(e,t){function n(e){try{l(i.next(e))}catch(e){t(e)}}function r(e){try{l(i.throw(e))}catch(e){t(e)}}function l(t){var o;t.done?e(t.value):(o=t.value,o instanceof c?o:new c((function(e){e(o)}))).then(n,r)}l((i=i.apply(o,a||[])).next())}));var u=document.createElement("ul");u.id="todo-list",u.className="todo-list",l.appendChild(u);for(var s=[{id:1,todo:"Shopping"},{id:2,todo:"Reading"},{id:3,todo:"Cooking"},{id:4,todo:"Running"}],d=0;d<s.length;d++){var f=document.createElement("li");f.className="todo-element",f.id="todo-element-".concat(s[d].id),f.textContent=s[d].todo,f.setAttribute("data-id",s[d].id.toString()),u.appendChild(f)}var p=document.createElement("div");p.className="context-menu";var v=document.createElement("ul");e({document,contextList:v,text:"Delete",styleId:"context-menu-delete",styleClass:"context-menu-actions"}),e({document,contextList:v,text:"Edit",styleId:"context-menu-edit",styleClass:"context-menu-actions"}),e({document,contextList:v,text:"Export List to CSV",styleId:"context-menu-csv",styleClass:"context-menu-actions"}),p.appendChild(v),document.body.appendChild(p);var h=null;u.addEventListener("contextmenu",(function(e){e.preventDefault(),function(e){e.preventDefault(),p.classList.add("visible"),p.style.left="".concat(e.pageX,"px"),p.style.top="".concat(e.pageY,"px")}(e),h=e.target})),document.addEventListener("click",(function(e){var r;switch(e.target.id){case"context-menu-edit":h&&(n({eventTarget:h}),r={eventTarget:h,arr:s},function(e,t,n,r){new(n||(n=Promise))((function(o,a){function c(e){try{l(r.next(e))}catch(e){a(e)}}function i(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}l((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var e,o,a,c,i;return function(e,t){var n,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},c=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return c.next=i(0),c.throw=i(1),c.return=i(2),"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function i(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,i[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}(this,(function(l){switch(l.label){case 0:return(a=t({eventTarget:e=r.eventTarget,arr:o=r.arr}))&&(c=o.indexOf(a))>-1?[4,n({eventTarget:e})]:[3,2];case 1:(i=l.sent())!==o[c].todo&&(o[c].todo=i),l.label=2;case 2:return[2]}}))})),h=null);break;case"context-menu-delete":h&&(function(e){var n=e.arr,r=t({eventTarget:e.eventTarget,arr:n});if(r){var o=n.indexOf(r);o>-1&&n.splice(o,1)}}({eventTarget:h,arr:s}),function(e){var t,n=e.eventTarget;null===(t=null==n?void 0:n.parentElement)||void 0===t||t.removeChild(n)}({eventTarget:h}),h=null);break;case"context-menu-csv":!function(e){var t=e.array,n=e.filename,r=function(e){var t=e.arr;return[Object.keys(t[0])].concat(t).map((function(e){return Object.values(e).toString()})).join("\n")}({arr:t}),o=new Blob([r],{type:"text/csv;charset=utf-8;"}),a=URL.createObjectURL(o),c=document.createElement("a");c.setAttribute("download",n),c.href=a,c.click(),URL.revokeObjectURL(a)}({array:s,filename:"list.csv"})}p.classList.remove("visible")}))})();